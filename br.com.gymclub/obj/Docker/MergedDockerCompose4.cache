services:
  api:
    build:
      context: /Users/fernandaabreu/tcc-2020/br.com.gymclub
      dockerfile: api/Dockerfile
    depends_on:
    - db
    ports:
    - published: 8180
      target: 80
  db:
    environment:
      MYSQL_DATABASE: dbgymclub
      MYSQL_PASSWORD: root
      MYSQL_RANDOM_ROOT_PASSWORD: 1
      MYSQL_USER: root
    image: mysql:5.7
    restart: always
    volumes:
    - dbdata:/var/lib/mysql:rw
    - /Users/fernandaabreu/tcc-2020/br.com.gymclub/_MySQL_Init_Script:/docker-entrypoint-initdb.d:rw
  ui:
    build:
      context: /Users/fernandaabreu/tcc-2020/br.com.gymclub
      dockerfile: ui/Dockerfile
    ports:
    - published: 8520
      target: 80
version: '3.4'
volumes:
  dbdata: {}